<app-header></app-header>

<div class="container" *ngIf="loading">
  <img src="images/icons/flickr.svg" class="main-loader">
</div>

<div class="container" [class.hidden]="loading">
  <div class="columns">
    <div class="column is-12">
      <div class="content">
        <div class="columns is-multiline">
          <div class="column is-12" *ngIf="job">
            <div class="job-top-container" [ngClass]="{ green: job.status === 'success', yellow: job.status === 'running', red: job.status === 'failed' }">
              <div class="job-top-content">
                <div class="columns">
                  <div class="column is-1">
                    <span class="build-icon">
                      <img src="images/icons/clock.svg" *ngIf="job.status === 'queued'">
                      <img src="images/icons/flickr.svg" *ngIf="job.status === 'running'">
                      <img src="images/icons/check-true.svg" *ngIf="job.status === 'success'">
                      <img src="images/icons/check-false.svg" *ngIf="job.status === 'failed'">
                    </span>
                  </div>
                  <div class="column is-9"></div>
                  <div class="column is-2">
                    <span class="total-time">
                      <span class="icon">
                        <img src="images/icons/clock.svg">
                      </span>
                      {{ job.time }}
                    </span>
                  </div>
                </div>
                <div class="columns">
                  <div class="column is-1"></div>
                  <div class="column is-11">
                    <!--<p>{{ build.commit_author }} authored and commited {{ timeWords }} ago.</p>-->
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="column is-12">
            <app-terminal [data]="terminalInput" (outputData)="terminalOutput($event)" [options]="terminalOptions"></app-terminal>
          </div>
          <div class="column is-12">
            <div class="job-bottom-container">
              <div class="columns">
                <div class="column is-1">

                </div>
                <div class="column is-9"></div>
                <div class="column is-2">
                  <div class="centered">
                    <button class="button is-fullwidth" type="button" (click)="restartJob()">
                      Restart Job
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
